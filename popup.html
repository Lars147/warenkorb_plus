<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Warenkorb+</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      width: 300px;
      font-family: 'Space Mono', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
      background: #0D0D0D;
      color: #F5F5F5;
    }

    .popup {
      padding: 20px;
    }

    .header {
      display: flex;
      align-items: center;
      gap: 12px;
      margin-bottom: 20px;
    }

    .header__icon {
      font-size: 32px;
    }

    .header__title {
      font-size: 18px;
      font-weight: 700;
    }

    .header__subtitle {
      font-size: 12px;
      color: #666;
    }

    .status {
      padding: 16px;
      background: #1A1A1A;
      border-radius: 10px;
      margin-bottom: 16px;
    }

    .status__label {
      font-size: 12px;
      color: #666;
      margin-bottom: 8px;
    }

    .status__value {
      font-size: 24px;
      font-weight: 700;
      color: #FF6B35;
    }

    .status__hint {
      font-size: 11px;
      color: #444;
      margin-top: 8px;
    }

    .settings {
      margin-bottom: 16px;
      display: flex;
      flex-direction: column;
      gap: 10px;
    }

    .setting {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 12px 16px;
      background: #1A1A1A;
      border-radius: 10px;
    }

    .setting__label {
      font-size: 13px;
      color: #F5F5F5;
    }

    .setting__select {
      padding: 6px 10px;
      background: #2D2D2D;
      border: 1px solid #444;
      border-radius: 6px;
      color: #F5F5F5;
      font-family: inherit;
      font-size: 12px;
      cursor: pointer;
    }

    .setting__select:focus {
      outline: none;
      border-color: #FF6B35;
    }

    .setting__checkbox {
      display: none;
    }

    .setting__toggle {
      width: 44px;
      height: 24px;
      background: #2D2D2D;
      border-radius: 12px;
      position: relative;
      transition: background 0.2s ease;
      cursor: pointer;
    }

    .setting__toggle::after {
      content: '';
      position: absolute;
      top: 2px;
      left: 2px;
      width: 20px;
      height: 20px;
      background: #666;
      border-radius: 50%;
      transition: all 0.2s ease;
    }

    .setting__checkbox:checked + .setting__toggle {
      background: linear-gradient(135deg, #FF6B35 0%, #F7931E 100%);
    }

    .setting__checkbox:checked + .setting__toggle::after {
      left: 22px;
      background: white;
    }

    .actions {
      display: flex;
      flex-direction: column;
      gap: 10px;
    }

    .btn {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 8px;
      padding: 12px 16px;
      border: none;
      border-radius: 8px;
      font-family: inherit;
      font-size: 13px;
      font-weight: 600;
      cursor: pointer;
      text-decoration: none;
      transition: all 0.2s ease;
    }

    .btn--primary {
      background: linear-gradient(135deg, #FF6B35 0%, #F7931E 100%);
      color: white;
    }

    .btn--primary:hover {
      filter: brightness(1.1);
    }

    .btn--secondary {
      background: #2D2D2D;
      color: #888;
    }

    .btn--secondary:hover {
      background: #3D3D3D;
      color: #FFF;
    }

    .confirm-dialog {
      display: flex;
      align-items: center;
      gap: 8px;
      padding: 8px 12px;
      background: #2D2D2D;
      border-radius: 8px;
    }

    .confirm-text {
      font-size: 12px;
      color: #FF6B35;
    }

    .btn--small {
      padding: 6px 12px;
      font-size: 11px;
    }

    .btn--danger {
      background: #DC3545;
      color: white;
    }

    .btn--danger:hover {
      background: #C82333;
    }

    .footer {
      margin-top: 20px;
      padding-top: 16px;
      border-top: 1px solid #2D2D2D;
      text-align: center;
    }

    .footer__text {
      font-size: 11px;
      color: #444;
    }

    .footer__link {
      color: #FF6B35;
      text-decoration: none;
    }

    .footer__link:hover {
      text-decoration: underline;
    }
  </style>
</head>
<body>
  <div class="popup">
    <div class="header">
      <span class="header__icon">üõí</span>
      <div>
        <div class="header__title">Warenkorb+</div>
        <div class="header__subtitle">Einkaufslisten-Import</div>
      </div>
    </div>

    <div class="status">
      <div class="status__label">Zutaten in der Liste</div>
      <div class="status__value" id="item-count">0</div>
      <div class="status__hint" id="last-updated"></div>
    </div>

    <div class="settings">
      <div class="setting">
        <span class="setting__label">Favorit</span>
        <select id="site-select" class="setting__select">
          <option value="knuspr">Knuspr</option>
          <option value="rewe">REWE</option>
        </select>
      </div>

      <label class="setting">
        <span class="setting__label">Auto-Sortierung (g√ºnstig zuerst)</span>
        <input type="checkbox" id="auto-sort" class="setting__checkbox">
        <span class="setting__toggle"></span>
      </label>
    </div>

    <div class="actions">
      <a href="https://cookidoo.de/shopping/de-DE" target="_blank" class="btn btn--primary">
        üìã Cookidoo √∂ffnen
      </a>
      <a href="#" id="open-grocery" target="_blank" class="btn btn--secondary">
        üõí <span id="grocery-name">Knuspr</span> √∂ffnen
      </a>
      <button class="btn btn--secondary" id="clear-btn">
        üóëÔ∏è Liste leeren
      </button>
      <div class="confirm-dialog" id="confirm-dialog" style="display: none;">
        <span class="confirm-text">Wirklich l√∂schen?</span>
        <button class="btn btn--danger btn--small" id="confirm-yes">Ja</button>
        <button class="btn btn--secondary btn--small" id="confirm-no">Nein</button>
      </div>
    </div>

    <div class="footer">
      <p class="footer__text">
        Besuche erst <a href="https://cookidoo.de/shopping/de-DE" target="_blank" class="footer__link">Cookidoo</a>,
        exportiere die Liste, dann gehe zum Supermarkt.
      </p>
    </div>
  </div>

  <script src="shared/config.js"></script>
  <script src="popup.js"></script>
</body>
</html>
